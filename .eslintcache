[{"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Management\\ManageProject.jsx":"1","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\index.js":"2","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\Home.jsx":"3","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\CircleLoader.jsx":"4","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\firebase.jsx":"5","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\firebaseSec.jsx":"6","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\MyFireStore.jsx":"7","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\App.jsx":"8","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Management\\ManageUser.jsx":"9","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Management\\CreatePermission.jsx":"10","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\Menu.jsx":"11","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Login\\login.jsx":"12","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\Header.jsx":"13","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\reportWebVitals.js":"14","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\alert.js":"15","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\Loading.jsx":"16","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Data.jsx":"17","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\TableContainer.jsx":"18","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\counterSlice.js":"19","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Management\\PermissionForAdmin.jsx":"20","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\ShowTable.js":"21"},{"size":10648,"mtime":1656056113312,"results":"22","hashOfConfig":"23"},{"size":611,"mtime":1655369603245,"results":"24","hashOfConfig":"23"},{"size":1811,"mtime":1655450331325,"results":"25","hashOfConfig":"23"},{"size":778,"mtime":1655265204826,"results":"26","hashOfConfig":"23"},{"size":1201,"mtime":1655977157518,"results":"27","hashOfConfig":"23"},{"size":1229,"mtime":1655977163295,"results":"28","hashOfConfig":"23"},{"size":2310,"mtime":1656306093294,"results":"29","hashOfConfig":"23"},{"size":2146,"mtime":1656305691006,"results":"30","hashOfConfig":"23"},{"size":11153,"mtime":1656302857241,"results":"31","hashOfConfig":"23"},{"size":6279,"mtime":1655979883178,"results":"32","hashOfConfig":"23"},{"size":14477,"mtime":1656304935463,"results":"33","hashOfConfig":"23"},{"size":7682,"mtime":1656064234415,"results":"34","hashOfConfig":"23"},{"size":1471,"mtime":1656316194239,"results":"35","hashOfConfig":"23"},{"size":375,"mtime":1654849381296,"results":"36","hashOfConfig":"23"},{"size":325,"mtime":1654849381295,"results":"37","hashOfConfig":"23"},{"size":316,"mtime":1655434045702,"results":"38","hashOfConfig":"23"},{"size":17591,"mtime":1655376394498,"results":"39","hashOfConfig":"23"},{"size":4213,"mtime":1656302855248,"results":"40","hashOfConfig":"23"},{"size":845,"mtime":1656064708364,"results":"41","hashOfConfig":"23"},{"size":18288,"mtime":1656305598089,"results":"42","hashOfConfig":"23"},{"size":2488,"mtime":1656301768449,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1hbko9z",{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"48"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"67","messages":"68","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","errorCount":0,"warningCount":18,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":18,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"61"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Management\\ManageProject.jsx",["93","94","95","96","97","98","99","100","101","102","103","104","105"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\index.js",[],["106","107"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\Home.jsx",["108","109"],"import React from 'react';\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport {data} from '../../../Data'\r\nimport ShowTable from './ShowTable';\r\n\r\nconst DatatablePage = () => {\r\n  const data1 = {\r\n    columns: [\r\n        {\r\n            label: 'Id',\r\n            field: 'id',\r\n            sort: 'asc',\r\n            width: 150\r\n        },\r\n        {\r\n            label: 'DeviceId',\r\n            field: 'deviceId',\r\n            sort: 'asc',\r\n            width: 100\r\n        },\r\n        {\r\n            label: 'LocationId',\r\n            field: 'locationId',\r\n            sort: 'asc',\r\n            width: 100\r\n        },\r\n        {\r\n            label: 'SourceType',\r\n            field: 'sourceType',\r\n            sort: 'asc',\r\n            width: 50\r\n        },\r\n        {\r\n            label: 'Status',\r\n            field: 'status',\r\n            sort: 'asc',\r\n            width: 80\r\n        },\r\n        {\r\n            label: 'TxnDate',\r\n            field: 'txnDate',\r\n            sort: 'asc',\r\n            width: 80\r\n        },\r\n        {\r\n            label: 'TxnType',\r\n            field: 'txnType',\r\n            sort: 'asc',\r\n            width: 150\r\n        },\r\n        {\r\n            label: 'Value',\r\n            field: 'value',\r\n            sort: 'asc',\r\n            width: 60\r\n        },\r\n        {\r\n            label: 'CreatedAt',\r\n            field: 'createdAt',\r\n            sort: 'asc',\r\n            width: 100\r\n        },\r\n        {\r\n            label: 'UpdatedAt',\r\n            field: 'updatedAt',\r\n            sort: 'asc',\r\n            width: 100\r\n        },\r\n    ],\r\n    rows: data\r\n  };\r\n\r\n  return (\r\n    <div className=\"content-wrapper\" style={{paddingBottom: 100, paddingLeft: 25, paddingRight: 25, paddingTop: 25}}>\r\n\r\n        <ShowTable/>\r\n    \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DatatablePage;","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\CircleLoader.jsx",[],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\firebase.jsx",[],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\firebaseSec.jsx",[],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\MyFireStore.jsx",["110"],"import React from \"react\";\r\n\r\nimport { getDocs, collection, query, where, getDoc, doc } from \"firebase/firestore\";\r\nimport { db } from \"./firebaseSec\"\r\n\r\n\r\n/******************************************************* GET ***********************************************************/\r\n/***************** Example of call getUsers, getRoles, getProjects, getRole, getUser, getProject ***********************\r\n\r\nimport * as GG from '../../MyFireStore';\r\n\r\nvar a = GG.getUsers().then((value) => {\r\n    console.log(\"GG\", value)\r\n})\r\n\r\n************************************************************************************************************************/\r\n\r\nexport const getUsers = async () => {\r\n    const usersCollectionRef = collection(db, \"users\");\r\n    const data = await getDocs(usersCollectionRef);\r\n    var users = data.docs.map((doc) => ({ ...doc.data(), id: doc.id }))\r\n    return users\r\n};\r\n\r\nexport const getRoles = async () => {\r\n    const rolesCollectionRef = collection(db, \"roles\");\r\n    const data = await getDocs(rolesCollectionRef);\r\n    var roles = data.docs.map((doc) => ({ ...doc.data(), id: doc.id }))\r\n    return roles\r\n}\r\n\r\nexport const getProjects = async () => {\r\n    const projectsCollectionRef = collection(db, \"projects\");\r\n    const data = await getDocs(projectsCollectionRef);\r\n    var projects = data.docs.map((doc) => ({ ...doc.data(), id: doc.id }))\r\n    return projects\r\n}\r\n\r\nexport const getRole = async (roleName) => {\r\n    var role = null\r\n    const q = query(collection(db, \"roles\"), where(\"name\", \"==\", roleName));\r\n    const querySnapshot = await getDocs(q);\r\n    querySnapshot.forEach((doc) => {\r\n      role = doc.data();\r\n    });\r\n    return role\r\n}\r\n\r\nexport const getProject = async (projectName) => {\r\n    var project = null\r\n    const q = query(collection(db, \"projects\"), where(\"name\", \"==\", projectName));\r\n    const querySnapshot = await getDocs(q);\r\n    querySnapshot.forEach((doc) => {\r\n        project = doc.data();\r\n    });\r\n    return project\r\n}\r\n\r\nexport const getUser = async (uid) => {\r\n    var user = null\r\n    const docRef = doc(db, \"users\", uid)\r\n    const docSnap = await getDoc(docRef)\r\n    user = docSnap.data()\r\n    return user\r\n}\r\n/******************************************************* GET ***********************************************************/",["111","112"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\App.jsx",[],["113","114"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Management\\ManageUser.jsx",["115","116","117"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Management\\CreatePermission.jsx",["118","119","120","121","122","123"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\Menu.jsx",["124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Login\\login.jsx",["142","143","144","145","146","147","148","149","150"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\Header.jsx",["151","152","153"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\reportWebVitals.js",[],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\alert.js",[],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\Loading.jsx",[],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Data.jsx",[],["154","155"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\TableContainer.jsx",["156"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\counterSlice.js",[],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Management\\PermissionForAdmin.jsx",["157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174"],"import React, { useState } from 'react'\r\nimport { Table } from 'react-bootstrap';\r\nimport { getProjects, getRoles, getUsers } from '../../MyFireStore';\r\nimport { useNavigate } from 'react-router'\r\nimport { Modal, Form, Button }  from 'react-bootstrap';\r\nimport Select from 'react-select';\r\nimport makeAnimated from 'react-select/animated';\r\nimport { db } from '../../firebase';\r\nimport { doc, deleteDoc, updateDoc } from 'firebase/firestore';\r\nimport Loading from '../../components/Loading';\r\n\r\nexport default function Permission() {\r\n\r\n    const animatedComponents = makeAnimated();\r\n    const navigate = useNavigate();\r\n    const [isLoading, setIsLoading] = useState();\r\n\r\n    const [allRoles, setAllRoles] = useState([]);\r\n    const [allProjects, setAllProjects] = useState([]);\r\n    const [allUsers, setAllUsers] = useState([]);\r\n    const [clickedRole, setClickedRole] = useState({}); // store the role user want to add, edit, delete\r\n\r\n    const [isPopup, setIsPopup] = useState(false);\r\n    const [isAdd, setIsAdd] = useState(false);\r\n\r\n    const [newRoleName, setNewRoleName] = useState(\"\");\r\n\r\n    const [proOptions, setProOptions] = useState({}); // store options to select\r\n\r\n    const [projectInput, setProjectInput] = useState([]); // store project options input that user select ex. [{value: \"\", label: \"\"}]\r\n    const [projectChange, setProjectChange] = useState([]); // store project that will send to firestore\r\n    \r\n    const getAllUsers = async () => {\r\n        await getUsers().then((value) => {\r\n            setAllUsers(value)\r\n        })\r\n    }\r\n\r\n    const getAllRolesAgain = async () => {\r\n        await getRoles().then((value) => {\r\n            setAllRoles(value)\r\n        })\r\n\r\n    }\r\n\r\n    if (allRoles.length < 1) {\r\n        getAllRolesAgain()\r\n        getAllUsers()\r\n    }\r\n\r\n    if (allProjects.length < 1) {\r\n        getProjects().then((value) => {\r\n            setAllProjects(value)\r\n        })\r\n    }\r\n\r\n    // create options for user select of edit permission\r\n    const genProjectOptions = (project) => {\r\n        let options = []\r\n        project.map((data, index) => {\r\n            options[index] = {value: data.name, label: data.name}\r\n        })\r\n\r\n        return options\r\n    }\r\n\r\n    // create options for user select of add permission\r\n    const genAddOptions = (role) => {\r\n        let options = []\r\n        let index = 0\r\n        allProjects.map((all) => {\r\n            let projectNames = []\r\n            role.project.map((p, pIndex) => {\r\n                projectNames[pIndex] = p.name\r\n            })\r\n            if (!projectNames.includes(all.name)) {\r\n                options[index] = {value: all.name, label: all.name}\r\n            }\r\n        })\r\n\r\n        return options\r\n    }\r\n\r\n    // call when click btn to close all popup\r\n    const handleClosePopup = () => {\r\n        if (isPopup) {\r\n            setIsPopup(!isPopup)\r\n        } else if (isAdd) {\r\n            setIsAdd(!isAdd)\r\n        }\r\n\r\n        setClickedRole({})\r\n        setNewRoleName(\"\")\r\n        setProOptions({})\r\n        setProjectInput([])\r\n    }\r\n\r\n    const handleEditBtn = (role) => {\r\n        let options = genProjectOptions(role.project)\r\n        setIsPopup(!isPopup)\r\n        setClickedRole(role)\r\n        setNewRoleName(role.name)\r\n        setProOptions(options)\r\n        setProjectInput(options)\r\n    }\r\n\r\n    const handleAddBtn = (role) => {\r\n        setIsAdd(!isAdd)\r\n        setClickedRole(role)\r\n        setProOptions(genAddOptions(role))\r\n    }\r\n\r\n    const handleSubmitAdd = async () => {\r\n        setIsLoading(true)\r\n        let sendPro = []\r\n        let update = [...projectChange]\r\n\r\n        setProjectChange(update)\r\n\r\n        // add new project to current role\r\n        clickedRole.project.map((pro, index) => {\r\n            sendPro[index] = pro\r\n            projectChange.map((proC, proCIndex) => {\r\n                sendPro[index + proCIndex + 1] = proC\r\n            })\r\n        })\r\n\r\n        // update field(project) in firestore\r\n        const docRef = doc(db, \"roles\", clickedRole.id)\r\n        await updateDoc(docRef, {\r\n            \"project\" : sendPro\r\n        })\r\n\r\n        await getAllRolesAgain()\r\n        handleClosePopup()\r\n        setIsLoading(false)\r\n    }\r\n\r\n    const handleSubmitEdit = async () => {\r\n        setIsLoading(true)\r\n        let update = [...projectChange]\r\n        let sendPro = []\r\n        \r\n        // set value to current\r\n        setProjectChange(update)\r\n\r\n        // store new value of project to sendPro\r\n        clickedRole.project.map((pro, index) => {\r\n            projectChange.map((proC) => {\r\n                if(pro.name === proC?.name) {\r\n                    sendPro[index] = proC\r\n                } else {\r\n                    sendPro[index] = pro\r\n                }\r\n            })\r\n        })\r\n\r\n        // update field(name and project) in document roles in firestore\r\n        const docRef = doc(db, \"roles\", clickedRole.id)\r\n        await updateDoc(docRef, {\r\n            \"name\" : newRoleName,\r\n            \"project\" : sendPro\r\n        })\r\n\r\n        // get updated value from firestore to display\r\n        await getAllRolesAgain()\r\n        // close popup and set all variable to default\r\n        handleClosePopup()\r\n\r\n        setIsLoading(false)\r\n    }\r\n\r\n    const handleDeleteBtn = async (role) => {\r\n        setIsLoading(true)\r\n\r\n        const roleDoc = doc(db, \"roles\", role.id);\r\n        await deleteDoc(roleDoc);\r\n\r\n        allUsers.map((user) => {\r\n            if (user.role === role.name) {\r\n                const docRef = doc(db, \"users\", user.id)\r\n                updateDoc(docRef, {\r\n                    \"role\" : \"\",\r\n                })\r\n            }\r\n        })\r\n\r\n        setIsLoading(false)\r\n        await getAllRolesAgain()\r\n    }\r\n\r\n    function popupAdd() {\r\n        return (isAdd) ? (\r\n            <div>\r\n                <Modal show={true} onHide={(e)=>{handleClosePopup()}}>\r\n                    <Modal.Header>\r\n                        <Modal.Title>Add Projects <i onClick={(e) => handleClosePopup()} style={{cursor:\"pointer\", marginLeft:\"270px\"}} className='fa fa-times'/></Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <Form>\r\n                            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                                <Form.Label>Name</Form.Label>\r\n                                <Form.Control\r\n                                type=\"text\"\r\n                                disabled\r\n                                value={clickedRole.name}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group className=\"mb-3\">\r\n                                <Form.Label>Select Projects</Form.Label>\r\n                                <div className=\"mb-3\">\r\n                                    <Select\r\n                                        closeMenuOnSelect={true}\r\n                                        components={animatedComponents}\r\n                                        isMulti\r\n                                        options={proOptions}\r\n                                        onChange={(event) => {\r\n                                            setProjectInput(event)\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </Form.Group>\r\n                            \r\n                            {(projectInput.length > 0) ? (\r\n                                <Form.Group className=\"mb-3\">\r\n                                    {projectInput.map((pro, index) => {\r\n                                        let subMenuOptions = []\r\n                                        allProjects.map((all) => {\r\n                                            if (all.name === pro.value) {\r\n                                                all.subMenu.map((sub, subIndex) => {\r\n                                                    subMenuOptions[subIndex] = {value: sub, label: sub}\r\n                                                })\r\n                                            }\r\n                                        })\r\n                                        return (\r\n                                            <div>\r\n                                                <Form.Label>{pro.value}</Form.Label>\r\n                                                <div className=\"mb-3\">\r\n                                                    <Select\r\n                                                        closeMenuOnSelect={true}\r\n                                                        components={animatedComponents}\r\n                                                        isMulti\r\n                                                        options={subMenuOptions}\r\n                                                        onChange={(event) => {\r\n                                                            var arrSubMenu = []\r\n                                                            var addSub = [...projectChange]\r\n                                                            event.map((e, eIndex) => {\r\n                                                                arrSubMenu[eIndex] = e.value\r\n                                                            })\r\n                                                            addSub[index] = {name: pro.value, subMenu: arrSubMenu}\r\n                                                            setProjectChange(addSub)\r\n                                                            console.log(\"pro change\", projectChange)\r\n                                                        }}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })}\r\n                                </Form.Group>\r\n                            ) : \"\"}\r\n                        </Form>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={(e) => {handleClosePopup()}}>\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\" onClick={(e) =>{handleSubmitAdd()}}>\r\n                            Add Permission\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n        ) : \"\";\r\n    }\r\n\r\n    function popupEdit() {\r\n    \r\n        return (isPopup) ? (\r\n          <div>\r\n            <Modal show={true} onHide={(e)=>{handleClosePopup()}}>\r\n              <Modal.Header>\r\n                <Modal.Title>Edit Permission <i onClick={(e) => handleClosePopup()} style={{cursor:\"pointer\", marginLeft:\"270px\"}} className='fa fa-times'/></Modal.Title>\r\n              </Modal.Header>\r\n              <Modal.Body>\r\n                <Form>\r\n                    <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                        <Form.Label>Name</Form.Label>\r\n                        <Form.Control\r\n                        type=\"text\"\r\n                        placeholder={clickedRole.name} //current role name\r\n                        value={newRoleName}\r\n                        onChange={(e) => {setNewRoleName(e.target.value)}}\r\n                        autoFocus\r\n                        />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group className=\"mb-3\">\r\n                        <Form.Label>Select Projects</Form.Label>\r\n                        <div className=\"mb-3\">\r\n                            <Select\r\n                                defaultValue={proOptions}\r\n                                closeMenuOnSelect={true}\r\n                                components={animatedComponents}\r\n                                isMulti\r\n                                options={proOptions}\r\n                                onChange={(event) => {\r\n                                    setProjectInput(event)\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </Form.Group>\r\n\r\n                    {(projectInput.length > 0) ? (\r\n                        <div>\r\n                            {projectInput.map((pro, index) => {\r\n                                let subOptions = []\r\n                                let defOptions = []\r\n                                \r\n                                let projectName = \"\"\r\n                                // Set subMenu in allProjects to format => {value: \"\", label: \"\"} and keep at subOptions\r\n                                allProjects.map((p) => {\r\n                                    if (pro.value === p.name) {\r\n                                        p.subMenu.map((subM, subMIndex) => {\r\n                                            subOptions[subMIndex] = {value: subM, label: subM}\r\n                                        })\r\n                                    }\r\n                                })\r\n\r\n                                // Set subMenu in clickedRole(value form edit btn) to format => {value: \"\", label: \"\"} and keep at defOptions\r\n                                clickedRole.project.map((p) => {\r\n                                    if (p.name === pro.value) {\r\n                                        p.subMenu.map((subM, subMIndex) => {\r\n                                            defOptions[subMIndex] = {value: subM, label: subM}\r\n                                        })\r\n                                    }\r\n                                })\r\n\r\n                                return (\r\n                                    <Form.Group className=\"mb-3\">\r\n                                    <Form.Label>{pro.label}</Form.Label>\r\n                                    <div className=\"mb-3\">\r\n                                        <Select\r\n                                            defaultValue={defOptions}\r\n                                            closeMenuOnSelect={true}\r\n                                            components={animatedComponents}\r\n                                            isMulti\r\n                                            options={subOptions}\r\n                                            onChange={(event) => {\r\n                                                var arrSubMenu = []\r\n                                                var addSub = [...projectChange]\r\n                                                event.map((e, eIndex) => {\r\n                                                    arrSubMenu[eIndex] = e.value\r\n                                                })\r\n                                                addSub[index] = {name: pro.value, subMenu: arrSubMenu}\r\n                                                setProjectChange(addSub)\r\n                                                console.log(\"pro change\", projectChange)\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                </Form.Group>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                        \r\n                    ) : \"\"}\r\n                </Form>\r\n              </Modal.Body>\r\n              <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={(e) => {handleClosePopup()}}>\r\n                  Close\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={(e) =>{handleSubmitEdit()}}>\r\n                  Save Changes\r\n                </Button>\r\n              </Modal.Footer>\r\n            </Modal>\r\n          </div>\r\n        ) : \"\";\r\n      }\r\n\r\n    return (\r\n        <div className='content-wrapper'>\r\n            <Loading isLoading={isLoading} />\r\n            {popupAdd()}\r\n            {popupEdit()}\r\n            <div className='permission'>\r\n                <div className='top'>\r\n                    <h2 className='topic'>Permission</h2>\r\n                    <div className='create'>\r\n                        <button className=\"btn create-btn\" ><a href='/CreatePermission'>Create New Permission</a></button>\r\n                    </div>\r\n                </div>\r\n                <Table striped bbordered>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Number</th>\r\n                            <th>Role Name</th>\r\n                            <th>Projects {'('}Sub Menu{')'}</th>\r\n                            <th>Commands</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {allRoles.map((role,index) => {\r\n                            return (\r\n                                <tr>\r\n                                    <td>{index + 1}</td>\r\n                                    <td>{role.name}</td>\r\n                                    <td>{role.project.map((project) => {\r\n                                        return <div>{project.name} {'('}{project.subMenu.map((sub, subIndex) => {\r\n                                            if (subIndex > 0) {\r\n                                                return `, ${sub}`\r\n                                            } else {\r\n                                                return ` ${sub}`\r\n                                            }\r\n                                        })} {')'}</div>\r\n                                    })}\r\n                                    </td>\r\n                                    <td>\r\n                                        <Button className=\"btn m-2 edit\" onClick={(e) => {handleEditBtn(role)}}>Edit</Button>\r\n                                        <Button className=\"btn m-2 add\" onClick={(e) => {handleAddBtn(role)}}>Add Projects</Button><br/>\r\n                                        <button className=\"btn m-2 del\" onClick={(e) => {handleDeleteBtn(role)}}>Delete</button>\r\n                                    </td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\ShowTable.js",["175","176","177"],{"ruleId":"178","severity":1,"message":"179","line":1,"column":25,"nodeType":"180","messageId":"181","endLine":1,"endColumn":34},{"ruleId":"178","severity":1,"message":"182","line":2,"column":10,"nodeType":"180","messageId":"181","endLine":2,"endColumn":17},{"ruleId":"178","severity":1,"message":"183","line":3,"column":30,"nodeType":"180","messageId":"181","endLine":3,"endColumn":40},{"ruleId":"178","severity":1,"message":"184","line":3,"column":42,"nodeType":"180","messageId":"181","endLine":3,"endColumn":53},{"ruleId":"178","severity":1,"message":"185","line":17,"column":5,"nodeType":"180","messageId":"181","endLine":17,"endColumn":11},{"ruleId":"186","severity":1,"message":"187","line":48,"column":24,"nodeType":"188","messageId":"189","endLine":48,"endColumn":26},{"ruleId":"186","severity":1,"message":"187","line":57,"column":24,"nodeType":"188","messageId":"189","endLine":57,"endColumn":26},{"ruleId":"190","severity":1,"message":"191","line":72,"column":26,"nodeType":"192","messageId":"193","endLine":72,"endColumn":28},{"ruleId":"186","severity":1,"message":"187","line":73,"column":26,"nodeType":"188","messageId":"189","endLine":73,"endColumn":28},{"ruleId":"190","severity":1,"message":"191","line":95,"column":26,"nodeType":"192","messageId":"193","endLine":95,"endColumn":28},{"ruleId":"190","severity":1,"message":"191","line":98,"column":41,"nodeType":"192","messageId":"193","endLine":98,"endColumn":43},{"ruleId":"190","severity":1,"message":"191","line":127,"column":26,"nodeType":"192","messageId":"193","endLine":127,"endColumn":28},{"ruleId":"190","severity":1,"message":"191","line":129,"column":38,"nodeType":"192","messageId":"193","endLine":129,"endColumn":40},{"ruleId":"194","replacedBy":"195"},{"ruleId":"196","replacedBy":"197"},{"ruleId":"178","severity":1,"message":"198","line":2,"column":10,"nodeType":"180","messageId":"181","endLine":2,"endColumn":24},{"ruleId":"178","severity":1,"message":"199","line":7,"column":9,"nodeType":"180","messageId":"181","endLine":7,"endColumn":14},{"ruleId":"178","severity":1,"message":"200","line":1,"column":8,"nodeType":"180","messageId":"181","endLine":1,"endColumn":13},{"ruleId":"194","replacedBy":"201"},{"ruleId":"196","replacedBy":"202"},{"ruleId":"194","replacedBy":"203"},{"ruleId":"196","replacedBy":"204"},{"ruleId":"178","severity":1,"message":"205","line":23,"column":10,"nodeType":"180","messageId":"181","endLine":23,"endColumn":15},{"ruleId":"206","severity":1,"message":"207","line":79,"column":6,"nodeType":"208","endLine":79,"endColumn":8,"suggestions":"209"},{"ruleId":"206","severity":1,"message":"210","line":96,"column":5,"nodeType":"208","endLine":96,"endColumn":7,"suggestions":"211"},{"ruleId":"178","severity":1,"message":"212","line":15,"column":11,"nodeType":"180","messageId":"181","endLine":15,"endColumn":19},{"ruleId":"190","severity":1,"message":"191","line":27,"column":31,"nodeType":"192","messageId":"193","endLine":27,"endColumn":33},{"ruleId":"190","severity":1,"message":"191","line":63,"column":25,"nodeType":"192","messageId":"193","endLine":63,"endColumn":27},{"ruleId":"190","severity":1,"message":"191","line":65,"column":37,"nodeType":"192","messageId":"193","endLine":65,"endColumn":39},{"ruleId":"190","severity":1,"message":"191","line":70,"column":44,"nodeType":"192","messageId":"193","endLine":70,"endColumn":46},{"ruleId":"190","severity":1,"message":"191","line":130,"column":79,"nodeType":"192","messageId":"193","endLine":130,"endColumn":81},{"ruleId":"178","severity":1,"message":"179","line":1,"column":27,"nodeType":"180","messageId":"181","endLine":1,"endColumn":36},{"ruleId":"178","severity":1,"message":"213","line":4,"column":10,"nodeType":"180","messageId":"181","endLine":4,"endColumn":16},{"ruleId":"178","severity":1,"message":"214","line":4,"column":18,"nodeType":"180","messageId":"181","endLine":4,"endColumn":21},{"ruleId":"178","severity":1,"message":"215","line":5,"column":10,"nodeType":"180","messageId":"181","endLine":5,"endColumn":17},{"ruleId":"178","severity":1,"message":"216","line":7,"column":10,"nodeType":"180","messageId":"181","endLine":7,"endColumn":15},{"ruleId":"178","severity":1,"message":"212","line":15,"column":9,"nodeType":"180","messageId":"181","endLine":15,"endColumn":17},{"ruleId":"190","severity":1,"message":"191","line":49,"column":28,"nodeType":"192","messageId":"193","endLine":49,"endColumn":30},{"ruleId":"178","severity":1,"message":"217","line":62,"column":9,"nodeType":"180","messageId":"181","endLine":62,"endColumn":10},{"ruleId":"190","severity":1,"message":"191","line":64,"column":28,"nodeType":"192","messageId":"193","endLine":64,"endColumn":30},{"ruleId":"178","severity":1,"message":"218","line":73,"column":9,"nodeType":"180","messageId":"181","endLine":73,"endColumn":15},{"ruleId":"219","severity":1,"message":"220","line":135,"column":17,"nodeType":"221","endLine":135,"endColumn":50},{"ruleId":"219","severity":1,"message":"220","line":174,"column":21,"nodeType":"221","endLine":174,"endColumn":54},{"ruleId":"219","severity":1,"message":"220","line":194,"column":17,"nodeType":"221","endLine":194,"endColumn":50},{"ruleId":"219","severity":1,"message":"220","line":215,"column":23,"nodeType":"221","endLine":215,"endColumn":56},{"ruleId":"219","severity":1,"message":"220","line":250,"column":17,"nodeType":"221","endLine":250,"endColumn":50},{"ruleId":"219","severity":1,"message":"220","line":259,"column":21,"nodeType":"221","endLine":259,"endColumn":54},{"ruleId":"219","severity":1,"message":"220","line":268,"column":25,"nodeType":"221","endLine":268,"endColumn":58},{"ruleId":"219","severity":1,"message":"220","line":274,"column":25,"nodeType":"221","endLine":274,"endColumn":58},{"ruleId":"178","severity":1,"message":"215","line":11,"column":55,"nodeType":"180","messageId":"181","endLine":11,"endColumn":62},{"ruleId":"178","severity":1,"message":"222","line":11,"column":64,"nodeType":"180","messageId":"181","endLine":11,"endColumn":74},{"ruleId":"178","severity":1,"message":"182","line":14,"column":10,"nodeType":"180","messageId":"181","endLine":14,"endColumn":17},{"ruleId":"178","severity":1,"message":"223","line":18,"column":3,"nodeType":"180","messageId":"181","endLine":18,"endColumn":9},{"ruleId":"178","severity":1,"message":"224","line":19,"column":3,"nodeType":"180","messageId":"181","endLine":19,"endColumn":12},{"ruleId":"178","severity":1,"message":"225","line":24,"column":10,"nodeType":"180","messageId":"181","endLine":24,"endColumn":21},{"ruleId":"178","severity":1,"message":"226","line":70,"column":13,"nodeType":"180","messageId":"181","endLine":70,"endColumn":17},{"ruleId":"190","severity":1,"message":"191","line":72,"column":34,"nodeType":"192","messageId":"193","endLine":72,"endColumn":36},{"ruleId":"178","severity":1,"message":"227","line":156,"column":11,"nodeType":"180","messageId":"181","endLine":156,"endColumn":15},{"ruleId":"219","severity":1,"message":"220","line":28,"column":13,"nodeType":"221","endLine":28,"endColumn":69},{"ruleId":"219","severity":1,"message":"228","line":35,"column":13,"nodeType":"221","endLine":35,"endColumn":40},{"ruleId":"219","severity":1,"message":"220","line":40,"column":13,"nodeType":"221","endLine":40,"endColumn":68},{"ruleId":"194","replacedBy":"229"},{"ruleId":"196","replacedBy":"230"},{"ruleId":"178","severity":1,"message":"231","line":20,"column":5,"nodeType":"180","messageId":"181","endLine":20,"endColumn":19},{"ruleId":"178","severity":1,"message":"212","line":15,"column":11,"nodeType":"180","messageId":"181","endLine":15,"endColumn":19},{"ruleId":"190","severity":1,"message":"191","line":60,"column":35,"nodeType":"192","messageId":"193","endLine":60,"endColumn":37},{"ruleId":"190","severity":1,"message":"191","line":71,"column":31,"nodeType":"192","messageId":"193","endLine":71,"endColumn":33},{"ruleId":"190","severity":1,"message":"191","line":73,"column":42,"nodeType":"192","messageId":"193","endLine":73,"endColumn":44},{"ruleId":"190","severity":1,"message":"191","line":121,"column":46,"nodeType":"192","messageId":"193","endLine":121,"endColumn":48},{"ruleId":"190","severity":1,"message":"191","line":123,"column":49,"nodeType":"192","messageId":"193","endLine":123,"endColumn":51},{"ruleId":"190","severity":1,"message":"191","line":148,"column":46,"nodeType":"192","messageId":"193","endLine":148,"endColumn":48},{"ruleId":"190","severity":1,"message":"191","line":149,"column":38,"nodeType":"192","messageId":"193","endLine":149,"endColumn":40},{"ruleId":"190","severity":1,"message":"191","line":179,"column":29,"nodeType":"192","messageId":"193","endLine":179,"endColumn":31},{"ruleId":"190","severity":1,"message":"191","line":229,"column":63,"nodeType":"192","messageId":"193","endLine":229,"endColumn":65},{"ruleId":"190","severity":1,"message":"191","line":231,"column":81,"nodeType":"192","messageId":"193","endLine":231,"endColumn":83},{"ruleId":"190","severity":1,"message":"191","line":248,"column":83,"nodeType":"192","messageId":"193","endLine":248,"endColumn":85},{"ruleId":"178","severity":1,"message":"232","line":320,"column":37,"nodeType":"180","messageId":"181","endLine":320,"endColumn":48},{"ruleId":"190","severity":1,"message":"191","line":322,"column":53,"nodeType":"192","messageId":"193","endLine":322,"endColumn":55},{"ruleId":"190","severity":1,"message":"191","line":324,"column":73,"nodeType":"192","messageId":"193","endLine":324,"endColumn":75},{"ruleId":"190","severity":1,"message":"191","line":331,"column":61,"nodeType":"192","messageId":"193","endLine":331,"endColumn":63},{"ruleId":"190","severity":1,"message":"191","line":333,"column":73,"nodeType":"192","messageId":"193","endLine":333,"endColumn":75},{"ruleId":"190","severity":1,"message":"191","line":352,"column":71,"nodeType":"192","messageId":"193","endLine":352,"endColumn":73},{"ruleId":"178","severity":1,"message":"179","line":1,"column":17,"nodeType":"180","messageId":"181","endLine":1,"endColumn":26},{"ruleId":"178","severity":1,"message":"233","line":1,"column":28,"nodeType":"180","messageId":"181","endLine":1,"endColumn":36},{"ruleId":"178","severity":1,"message":"234","line":10,"column":10,"nodeType":"180","messageId":"181","endLine":10,"endColumn":22},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'authSec' is defined but never used.","'InputGroup' is defined but never used.","'FormControl' is defined but never used.","'setDoc' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-native-reassign",["235"],"no-negated-in-lhs",["236"],"'MDBDataTableV5' is defined but never used.","'data1' is assigned a value but never used.","'React' is defined but never used.",["235"],["236"],["235"],["236"],"'alert' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getUsers' and 'rolesCollectionRef'. Either include them or remove the dependency array.","ArrayExpression",["237"],"React Hook useEffect has a missing dependency: 'router'. Either include it or remove the dependency array.",["238"],"'navigate' is assigned a value but never used.","'getDoc' is defined but never used.","'doc' is defined but never used.","'signOut' is defined but never used.","'async' is defined but never used.","'i' is assigned a value but never used.","'router' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'deleteUser' is defined but never used.","'addDoc' is defined but never used.","'deleteDoc' is defined but never used.","'useSelector' is defined but never used.","'data' is assigned a value but never used.","'user' is assigned a value but never used.","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md",["235"],["236"],"'visibleColumns' is assigned a value but never used.","'projectName' is assigned a value but never used.","'useState' is defined but never used.","'NoEncryption' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"239","fix":"240"},{"desc":"241","fix":"242"},"Update the dependencies array to be: [getUsers, rolesCollectionRef]",{"range":"243","text":"244"},"Update the dependencies array to be: [router]",{"range":"245","text":"246"},[2562,2564],"[getUsers, rolesCollectionRef]",[2949,2951],"[router]"]