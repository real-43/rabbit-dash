[{"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\Home.jsx":"1","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\TableContainer.jsx":"2","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\filters.jsx":"3","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\index.js":"4","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\Footer.js":"5","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\PDF.jsx":"6","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\CircleLoader.jsx":"7","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Login\\login.jsx":"8","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Signup\\signup.jsx":"9","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\ShowTable.js":"10","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\Header.jsx":"11","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\reportWebVitals.js":"12"},{"size":1811,"mtime":1655450331325,"results":"13","hashOfConfig":"14"},{"size":4213,"mtime":1655698323163,"results":"15","hashOfConfig":"14"},{"size":3795,"mtime":1655704092224,"results":"16","hashOfConfig":"14"},{"size":611,"mtime":1655369603245,"results":"17","hashOfConfig":"14"},{"size":696,"mtime":1655271966021,"results":"18","hashOfConfig":"14"},{"size":3411,"mtime":1655722793835,"results":"19","hashOfConfig":"14"},{"size":778,"mtime":1655265204826,"results":"20","hashOfConfig":"14"},{"size":7518,"mtime":1655351108167,"results":"21","hashOfConfig":"14"},{"size":11611,"mtime":1655722868026,"results":"22","hashOfConfig":"14"},{"size":2488,"mtime":1655702624298,"results":"23","hashOfConfig":"14"},{"size":1518,"mtime":1655172394708,"results":"24","hashOfConfig":"14"},{"size":375,"mtime":1654849381296,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1hbko9z",{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\Home.jsx",["57","58"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\TableContainer.jsx",["59"],"import React, { Fragment } from 'react';\r\nimport {\r\n  useTable,\r\n  useSortBy,\r\n  useFilters,\r\n  useExpanded,\r\n  usePagination, \r\n} from 'react-table';\r\nimport { Table, Row, Col, Button, Input } from 'reactstrap';\r\nimport { Filter, DefaultColumnFilter } from './filters';\r\nimport './Table.css'\r\n\r\nconst TableContainer = ({ columns, data, renderRowSubComponent }) => {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    page,\r\n    prepareRow,\r\n    visibleColumns,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn: { Filter: DefaultColumnFilter },\r\n      initialState: { pageIndex: 0, pageSize: 10 },\r\n    },\r\n    useFilters,\r\n    useSortBy,\r\n    useExpanded,\r\n    usePagination\r\n  );\r\n\r\n  const generateSortingIndicator = (column) => {\r\n    return column.isSorted ? (column.isSortedDesc ? ' ðŸ”½' : ' ðŸ”¼') : '';\r\n  };\r\n\r\n  const onChangeInSelect = (event) => {\r\n    setPageSize(Number(event.target.value));\r\n  };\r\n\r\n  return (\r\n    <Fragment >\r\n        <Table bordered hover {...getTableProps()} >\r\n            <thead className='header-table'>\r\n                {headerGroups.map((headerGroup) => (\r\n                    <tr {...headerGroup.getHeaderGroupProps()}>\r\n                        {headerGroup.headers.map((column) => (\r\n                            <th {...column.getHeaderProps()} style={{width: \"fit-content\"}}>\r\n                                <div className='header-content' {...column.getSortByToggleProps()}>\r\n                                    {column.render('Header')}\r\n                                    {generateSortingIndicator(column)}\r\n                                </div>\r\n                                <Filter column={column} />\r\n                            </th>\r\n                        ))}\r\n                    </tr>\r\n                ))}\r\n            </thead>\r\n\r\n            <tbody {...getTableBodyProps()}>\r\n                {page.map((row) => {\r\n                    prepareRow(row);\r\n                    return (\r\n                            <Fragment key={row.getRowProps().key}>\r\n                                <tr>\r\n                                    {row.cells.map((cell) => {\r\n                                        return (\r\n                                            <td className='content-tabel' {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                                        );\r\n                                    })}\r\n                                </tr>\r\n                            </Fragment>\r\n                        );\r\n                    })}\r\n            </tbody>\r\n        </Table>\r\n\r\n      <Row className='under-table'>\r\n        <Col md={3}>\r\n          <Button\r\n            color='primary'\r\n            onClick={() => gotoPage(0)}\r\n            disabled={!canPreviousPage}\r\n          >\r\n            {'<<'}\r\n          </Button>\r\n          <Button\r\n            color='primary'\r\n            onClick={previousPage}\r\n            disabled={!canPreviousPage}\r\n          >\r\n            {'<'}\r\n          </Button>\r\n        </Col>\r\n        <Col md={2} style={{ marginTop: 7 }}>\r\n          Page{' '}\r\n          <strong>\r\n            {pageIndex + 1} of {pageOptions.length}\r\n          </strong>\r\n        </Col>\r\n        <Col md={2}>\r\n          <Input\r\n            type='select'\r\n            value={pageSize}\r\n            onChange={onChangeInSelect}\r\n          >\r\n            {'>'}\r\n            {[10, 20, 30, 40, 50].map((pageSize) => (\r\n              <option key={pageSize} value={pageSize}>\r\n                Show {pageSize}\r\n              </option>\r\n            ))}\r\n          </Input>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Button color='primary' onClick={nextPage} disabled={!canNextPage}>\r\n            {'>'}\r\n          </Button>\r\n          <Button\r\n            color='primary'\r\n            onClick={() => gotoPage(pageCount - 1)}\r\n            disabled={!canNextPage}\r\n          >\r\n            {'>>'}\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default TableContainer;",["60","61"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\filters.jsx",["62"],"import React, { useState } from 'react';\r\nimport { Button, Input } from 'reactstrap';\r\nimport Box from '@mui/material/Box';\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\r\nimport './Table.css'\r\n\r\nexport const Filter = ({ column }) => {\r\n  return (\r\n    <div style={{ marginTop: 5 }}>\r\n      {column.canFilter && column.render('Filter')}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const CNUDateColumnFilter = ({\r\n  column: {\r\n    filterValue,\r\n    setFilter,\r\n    preFilteredRows: { length },\r\n  },\r\n}) => {\r\n  return (\r\n    <Input \r\n      style={{ height: \"30px\", marginLeft: \"auto\", marginRight: \"auto\"}}\r\n      value={filterValue || ''}\r\n      onChange={(e) => {\r\n        setFilter(e.target.value || undefined);\r\n      }}\r\n      placeholder={`search...`}\r\n    />\r\n  );\r\n};\r\n\r\n\r\nexport const DefaultColumnFilter = ({\r\n  column: {\r\n    filterValue,\r\n    setFilter,\r\n    preFilteredRows: { length },\r\n  },\r\n}) => {\r\n  return (\r\n    <Input \r\n      style={{ width: \"70px\", height: \"30px\", marginLeft: \"auto\", marginRight: \"auto\"}}\r\n      value={filterValue || ''}\r\n      onChange={(e) => {\r\n        setFilter(e.target.value || undefined);\r\n      }}\r\n      placeholder={`search...`}\r\n    />\r\n  );\r\n};\r\n\r\nexport const SelectColumnFilter = ({\r\n  column: { filterValue, setFilter, preFilteredRows, id },\r\n}) => {\r\n  const options = React.useMemo(() => {\r\n    const options = new Set();\r\n    preFilteredRows.forEach((row) => {\r\n      options.add(row.values[id]);\r\n    });\r\n    return [...options.values()];\r\n  }, [id, preFilteredRows]);\r\n\r\n  return (\r\n    <Input\r\n      style={{ height: \"30px\" , fontSize: \"13px\" }}\r\n      id='custom-select'\r\n      type='select'\r\n      value={filterValue}\r\n      onChange={(e) => {\r\n        setFilter(e.target.value || undefined);\r\n      }}\r\n    >\r\n      <option value=''>All</option>\r\n      {options.map((option) => (\r\n        <option key={option} value={option}>\r\n          {option}\r\n        </option>\r\n      ))}\r\n    </Input>\r\n  );\r\n};\r\n\r\nexport const DateColumnFilter = ({\r\n  column: { filterValue, setFilter },\r\n}) => {\r\n  const [value, setValue] = useState(null);\r\n  const show = (newValue) => {\r\n    try{\r\n      setValue(newValue)\r\n      let d = JSON.stringify(newValue)\r\n      let a = d.split(\"T\")\r\n      let b = a[0].split(\"-\")\r\n      let c = b[2] + \"/\"+ b[1] + \"/\" +b[0].split(\"\\\"\")[1]\r\n      console.log(\"first\", c, typeof(c))\r\n      return c\r\n    }catch {\r\n      setValue(newValue)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n      <DatePicker\r\n        label=\"Date\"\r\n        \r\n        value={value}\r\n        openTo=\"year\"\r\n        views={['year', 'month', 'day']}\r\n        dateFormat={'dd/mm/yyyy'}\r\n        onChange={(newValue) => {\r\n          setFilter(show(newValue) || undefined);\r\n          console.log(\"Filter\", filterValue, typeof(filterValue))\r\n        }}\r\n        renderInput={({ inputRef, inputProps, InputProps }) => (\r\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n            <input style={{width: \"80%\"}} ref={inputRef} {...inputProps} onChange={(newValue) => {\r\n              setFilter(show(newValue) || undefined);\r\n            }}/>\r\n            {InputProps?.endAdornment}\r\n          </Box>\r\n        )}\r\n      />\r\n    </LocalizationProvider>\r\n  );\r\n};\r\n\r\nexport const NoSearch = ({\r\n  column: {\r\n    filterValue,\r\n    setFilter,\r\n    preFilteredRows: { length },\r\n  },\r\n}) => {\r\n  return (\r\n    <Input \r\n      style={{ width: \"30px\", height: \"30px\", marginLeft: \"auto\", marginRight: \"auto\"}}\r\n      value={filterValue || ''}\r\n      onChange={(e) => {\r\n        setFilter(e.target.value || undefined);\r\n      }}\r\n    />\r\n  );\r\n};","C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\index.js",[],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\Footer.js",[],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\PDF.jsx",["63","64","65","66"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\CircleLoader.jsx",[],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Login\\login.jsx",["67","68","69","70","71","72","73","74"],"import React, { useState,useRef, useEffect } from 'react'\r\nimport Button from '@mui/material/Button';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport TextField from '@mui/material/TextField';\r\nimport Box from '@mui/material/Box';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport { useNavigate } from 'react-router'\r\nimport AlertBox from '../../components/alert';\r\nimport { signInWithEmailAndPassword, signInWithPopup, signOut, deleteUser } from 'firebase/auth';\r\nimport { auth,provider } from '../../firebase';\r\nimport './login.css'\r\nimport { authSec, db } from '../../firebaseSec';\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  addDoc,\r\n  deleteDoc,\r\n  updateDoc,\r\n  doc,\r\n} from \"firebase/firestore\";\r\n\r\nconst comp_form = \"@rabbit.co.th\";\r\nconst theme = createTheme();\r\nexport default function Login() {\r\n\r\n  const [userInfo, setUserInfo] = useState({ email: '', password: '' });\r\n  const [alert, setAlert] = useState({visible:false, severity:'', message:''});\r\n  const navigate = useNavigate();\r\n  const timerRef = useRef(null);\r\n\r\n  const usersCollectionRef = collection(db, \"users\");\r\n  const [blockUser, setBlockUser] = useState({ id: '',email: '', password: '', isBlock: false });\r\n\r\n  function goBlock() {\r\n    const blocker = async () => {\r\n      console.log(blockUser.isBlock)\r\n      if(blockUser.isBlock) {\r\n        setAlert({ visible:true,severity:'error',message:\"This account has been bolcked!\"})\r\n        timerRef.current= setTimeout(() => {\r\n          setAlert({ visible:false,severity:'',message:''})\r\n        },5000)\r\n      } else {\r\n        await firestoreBlock()\r\n      }\r\n\r\n      // console.log(\"data\", data.docs[1])\r\n    };\r\n\r\n    const firestoreBlock = async () => {\r\n      \r\n      const userDoc = doc(db, \"users\", blockUser.id);\r\n      updateDoc(userDoc, {\r\n        \"isBlocked\": true  \r\n      })\r\n      console.log(\"id: \", blockUser.email)\r\n    }\r\n\r\n    console.log(\"Block!!\")\r\n    blocker();\r\n  }\r\n\r\n  function getCurrentProfile() {\r\n    const getUser = async () => {\r\n      const data = await getDocs(usersCollectionRef)\r\n      .then((usersColl) => {\r\n        usersColl.docs.map((doc) => {\r\n\r\n          // if email on input equal to email in firestore will setState\r\n          if (doc.data().email === userInfo.email) {\r\n            setBlockUser({\r\n              id: doc.id,\r\n              email: doc.data().email,\r\n              password: doc.data().password,\r\n              isBlock: doc.data().isBlocked\r\n            });\r\n          }\r\n        })\r\n      })\r\n    }\r\n    getUser();\r\n  }\r\n\r\n  useEffect(() => {\r\n    // console.log(\"UseEffect\")\r\n    getCurrentProfile();\r\n  })\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if(blockUser.isBlock) {\r\n      setAlert({ visible:true,severity:'error',message:\"This account has been bolcked!\"})\r\n      timerRef.current= setTimeout(() => {\r\n        setAlert({ visible:false,severity:'',message:''})\r\n      },5000)\r\n    } else {\r\n      signInWithEmailAndPassword(auth, userInfo.email, userInfo.password)\r\n        .then(userInformation => {\r\n          console.log(userInformation);\r\n          console.log(userInfo.email.includes(comp_form));\r\n          if (userInfo.email.includes(comp_form)){\r\n            navigate('/dashboard')\r\n          }\r\n          else{\r\n            navigate('/')\r\n          }\r\n          \r\n        })\r\n        .catch(error => {\r\n\r\n          if(error.message === \"Firebase: Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later. (auth/too-many-requests).\") {\r\n            goBlock()\r\n          } else {\r\n            setAlert({ visible:true,severity:'error',message:error.message})\r\n            console.log(error.code);\r\n            timerRef.current= setTimeout(() => {\r\n              setAlert({ visible:false,severity:'',message:''})\r\n            },5000)\r\n          }\r\n      })\r\n    }\r\n  };\r\n    \r\n  // const handlePassword = () => {\r\n  //   sendPasswordResetEmail(auth, userInfo.email)\r\n  //     .then(() => {\r\n  //       setAlert({ visible: true, severity: 'success', message: 'Email Sent Successfully' })\r\n  //        timerRef.current= setTimeout(() => {\r\n  //         setAlert({ visible:false,severity:'',message:''})\r\n  //       },2000)\r\n  //     })\r\n  //     .catch(error => {\r\n  //     setAlert({ visible:true,severity:'error',message:error.message})\r\n  //       console.log(error.code);\r\n  //       timerRef.current= setTimeout(() => {\r\n  //         setAlert({ visible:false,severity:'',message:''})\r\n  //       },2000)\r\n  //   })\r\n  // }\r\n    \r\n  const handleGoogleButton = async() => {\r\n    // provider.addScope('https://www.googleapis.com/auth/contacts.readonly');\r\n    provider.setCustomParameters ({\r\n      'login_hint': \"jsmith@rabbit.co.th\",\r\n      'hd': 'rabbit.co.th',\r\n      'promp': 'select_account'\r\n    })\r\n\r\n    const user = await signInWithPopup(auth, provider).then(result => {\r\n      console.log(result)\r\n      // if (user.auth.email.includes(comp_form)) {\r\n      //   navigate('/dashboard')\r\n      // } else {\r\n      //   deleteUser(user.id)\r\n      //   signOut(auth).then(() => {\r\n      //   navigate('/')\r\n      //   alert(\"You have to use @rabbit.co.th domain\")\r\n      //   console.log(\"signout\");\r\n      //   })\r\n      // }\r\n      navigate('/dashboard')\r\n    }).catch(error => {\r\n      console.log(error)\r\n    })\r\n\r\n    \r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <AlertBox visible={alert.visible} severity={alert.severity} message={alert.message}/>\r\n        <CssBaseline />\r\n        <Box\r\n          sx={{\r\n            marginTop: 8,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <img src=\"./rabbitcard-logo.jpg\" alt=\"rabbit-logo\" style={{border: '6px solid black', borderRadius:'50%', height: '200px',width: 'auto',marginBottom: \"20px\"}} />\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              value={userInfo.email}\r\n              onChange={(event)=>{setUserInfo({...userInfo,email:event.target.value})}}\r\n            />\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              value={userInfo.password}\r\n              onChange={(event)=>{setUserInfo({...userInfo,password:event.target.value})}}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{ mt: 3, mb: 2 }}\r\n            >\r\n              Sign In\r\n            </Button>\r\n          </Box>\r\n          <button className='google_button' onClick={handleGoogleButton}><img src={\"./google.png\"} alt=''/></button>\r\n        </Box>\r\n      </Container>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n",["75","76"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Signup\\signup.jsx",["77","78","79","80"],"import React, { useEffect, useRef, useState } from 'react'\r\nimport {  createUserWithEmailAndPassword, sendEmailVerification, updateProfile, onAuthStateChanged, deleteUser, updatePassword, signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport { authSec, db } from '../../firebaseSec';\r\nimport {Modal, Form, Button, InputGroup, FormControl}  from 'react-bootstrap';\r\nimport { auth } from '../../firebase'\r\nimport { useNavigate } from 'react-router'\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  addDoc,\r\n  deleteDoc,\r\n  updateDoc,\r\n  doc,\r\n} from \"firebase/firestore\";\r\n\r\nimport Loading from '../../components/Loading';\r\n\r\nimport './signup.css'\r\n\r\nexport default function Signup() {\r\n\r\n  const [userInfo, setUserInfo] = useState({ userName: '', email: '', password: '' });\r\n  const [alert, setAlert] = useState({visible:false, severity:'', message:''});\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  // Use for change profile and password\r\n  const [newPassword, setNewPassword] = useState(\"\")\r\n  const [role, setRole] = useState()\r\n  const [changeUser, setChangeUser] = useState()\r\n  const [newName, setNewName] = useState(\"\")\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isActive, setActive] = useState(\"false\");\r\n  const router = useNavigate();\r\n  const timerRef = useRef(null);\r\n\r\n  const [users, setUsers] = useState([]);\r\n  const [roles, setRoles] = useState([]);\r\n  const usersCollectionRef = collection(db, \"users\");\r\n  const rolesCollectionRef = collection(db, \"roles\");\r\n\r\n  // To delete user in firebase\r\n  const deleteUserOnFstored = async (user) => {\r\n    setIsLoading(true);\r\n\r\n    // delete user in firestore\r\n    const userDoc = doc(db, \"users\", user.id);\r\n    await deleteDoc(userDoc);\r\n\r\n    // delete user in firebase auth\r\n    await signInWithEmailAndPassword(authSec, user.email, user.password)\r\n      .then(() => {\r\n        const userToDel = authSec.currentUser\r\n        deleteUser(userToDel)\r\n        authSec.signOut()\r\n      })\r\n\r\n    setIsLoading(false);\r\n    updateUI()\r\n    // window.location.reload(false);\r\n    };\r\n\r\n  // get all users in firestore and set to variable name \"users\"\r\n  useEffect(() => {\r\n    const getUsers = async () => {\r\n      const data = await getDocs(usersCollectionRef);\r\n      setUsers(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n    };\r\n    const getRoles = async () => {\r\n      const data = await getDocs(rolesCollectionRef);\r\n      setRoles(data.docs.map((doc) => ({ ...doc.data(), id: doc.roleID })));\r\n    };\r\n\r\n    getUsers();\r\n    getRoles();\r\n    \r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    return clearTimeout(timerRef.current)\r\n  },[])\r\n  \r\n  // Check that the user are logged in\r\n  useEffect(() => {\r\n      const authentication = onAuthStateChanged(auth,(user) => {\r\n          if (user) {\r\n              router('/managementUser')\r\n          } else {\r\n              router('/')\r\n         }\r\n      }) \r\n      \r\n      return authentication\r\n  },[])\r\n\r\n  // Change Name or Password in firebase\r\n  const handleChange = async (user) => {\r\n    setIsOpen(!isOpen)\r\n    setIsLoading(true)\r\n    setChangeUser(user)\r\n\r\n    // Change in firestore\r\n    const userDoc = doc(db, \"users\", user.id);\r\n\r\n    if (newName !== \"\") {\r\n      await updateDoc(userDoc, {\r\n        \"userName\": newName\r\n      });\r\n    }\r\n\r\n    if (newPassword !== \"\") {\r\n      await updateDoc(userDoc, {\r\n        \"password\": newPassword\r\n      });\r\n    }\r\n\r\n    if (role !== \"\") {\r\n      await updateDoc(userDoc, {\r\n        \"role\": role\r\n      });\r\n    }\r\n\r\n    // Change in firebase auth\r\n    await signInWithEmailAndPassword(authSec, user.email, user.password)\r\n    .then(() => {\r\n      const userToChange = authSec.currentUser\r\n      \r\n      if(newName !== \"\") {\r\n        updateProfile(userToChange, {\r\n          displayName: newName\r\n        })\r\n      }\r\n\r\n      if(newPassword !== \"\") {\r\n        updatePassword(userToChange, newPassword)\r\n      }\r\n\r\n      setIsLoading(false);\r\n      authSec.signOut()\r\n    })\r\n    \r\n    updateUI()\r\n    // window.location.reload(false);\r\n  }\r\n\r\n  const ControlBlocked = async (user) => {\r\n    setIsLoading(true)\r\n    console.log(\"Controlblocked function\")\r\n    const userDoc = doc(db, \"users\", user.id);\r\n    await updateDoc(userDoc, {\r\n      \"isBlocked\": !user.isBlocked\r\n      \r\n    });\r\n    setIsLoading(false)\r\n    updateUI()\r\n    // window.location.reload(false);\r\n  }\r\n\r\n  // To create new user in firebase\r\n  const handleSubmit = async (event) => {\r\n    setIsLoading(true);\r\n\r\n    event.preventDefault();\r\n    \r\n    // To create user in firestore\r\n    const usersCollectionRef = collection(db, \"users\")\r\n    await addDoc(usersCollectionRef, { userName: userInfo.userName, email: userInfo.email, password: userInfo.password , isBlocked: false});\r\n    // Create user in firebase auth\r\n    createUserWithEmailAndPassword(authSec, userInfo.email, userInfo.password)\r\n      .then((userInformation) => {\r\n        updateProfile(authSec.currentUser, {\r\n          displayName:userInfo.userName\r\n        })\r\n        // createUser(); \r\n        \r\n        // router('/managementUser')\r\n      })\r\n      .catch(error => {\r\n        setAlert({ visible:true,severity:'error',message:error.message})\r\n        console.log(error.code);\r\n        timerRef.current= setTimeout(() => {\r\n          setAlert({ visible:false,severity:'',message:''})\r\n        },2000)\r\n    })\r\n    setIsLoading(false);\r\n    updateUI();\r\n    window.location.reload(false);\r\n  };\r\n\r\n  // To open/close popup and set user that send form edit btn\r\n  function changeSet(user) {\r\n    setChangeUser(user)\r\n    setIsOpen(!isOpen)\r\n    setNewName(user.userName)\r\n    setNewPassword(user.password)\r\n    setRole(user.role)\r\n    \r\n  }\r\n\r\n  function displayOption() {\r\n    setActive(!isActive);\r\n    var x = document.getElementById(\"myInput\");\r\n\r\n    if (x.type === \"password\") {\r\n      x.type = \"text\";\r\n    } else {\r\n      x.type = \"password\";\r\n    }\r\n  }\r\n\r\n  function updateUI() {\r\n    setIsLoading(true)\r\n    setInterval(() => {\r\n      console.log(\"Updating UI\")\r\n      const getUsers = async () => {\r\n        const data = await getDocs(usersCollectionRef);\r\n        setUsers(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n        \r\n      };\r\n    \r\n    console.log(\"getUsers: \",users)\r\n    getUsers();\r\n    setIsLoading(false)\r\n    }, 200)\r\n  }\r\n\r\n  // Popup input to chnage password or name\r\n  function popup() {\r\n    \r\n    return (isOpen) ? (\r\n      <div>\r\n        <Modal show={true} onHide={(e)=>{setIsOpen(!isOpen)}}>\r\n          <Modal.Header>\r\n            <Modal.Title>Modal heading <i onClick={(e) => setIsOpen(!isOpen)} style={{cursor:\"pointer\", marginLeft:\"270px\"}} className='fa fa-times'/></Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form>\r\n              <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                <Form.Label>Name</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder={changeUser.userName}\r\n                  value={newName}\r\n                  onChange={(e) => setNewName(e.target.value)}\r\n                  autoFocus\r\n                />\r\n              </Form.Group>\r\n              <Form.Group\r\n                className=\"mb-3\"\r\n                controlId=\"exampleForm.ControlTextarea1\"\r\n              >\r\n                <Form.Label>Password</Form.Label>\r\n                <InputGroup className=\"mb-3\">\r\n                  \r\n                  <FormControl\r\n                    aria-label=\"Example text with button addon\"\r\n                    aria-describedby=\"basic-addon1\"\r\n                    id='myInput'\r\n                    type=\"password\"\r\n                    placeholder=\"password\"\r\n                    value={newPassword}\r\n                    onChange={(e) => setNewPassword(e.target.value)}\r\n                  />\r\n                  <Button variant=\"outline-secondary\" id=\"button-addon1\">\r\n                    <i class={isActive ? \"fa fa-eye\" : \"fa fa-eye-slash\"} id=\"togglePassword\" onClick={(e) => displayOption(this)}/>\r\n                  </Button>\r\n                </InputGroup>\r\n              </Form.Group>\r\n              <Form.Label>Role</Form.Label>\r\n              <Form.Select aria-label={role} defaultValue={role} onChange={(e) => setRole(e.target.value)}>\r\n                <option className=\"d-none\" value=\"\">{role}</option>\r\n                {roles.map((role) => {return (\r\n                  <option value={role.name}>{role.name}</option>\r\n                )})}\r\n              </Form.Select>\r\n            </Form>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={(e) => setIsOpen(!isOpen)}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={(e) =>{handleChange(changeUser)}}>\r\n              Save Changes\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    ) : \"\";\r\n  }\r\n\r\n   return (\r\n    <div className=\"content-wrapper\">\r\n      <Loading isLoading={isLoading} />\r\n      <h3>Management {'>'} User</h3>\r\n      \r\n      <div className='input-wrapper'>\r\n        <h4>Create New User</h4>\r\n\r\n        <div className='input-container'>\r\n          <input className='input-register'\r\n            placeholder=\"Name...\"\r\n            onChange={(event) => {\r\n              setUserInfo({ ...userInfo, userName: event.target.value })\r\n            }}\r\n          />\r\n          <input className='input-register'\r\n            type=\"Email\"\r\n            placeholder=\"Email...\"\r\n            onChange={(event) => {\r\n              setUserInfo({ ...userInfo, email: event.target.value })\r\n            }}\r\n          />\r\n          <input className='input-register'\r\n            type=\"Password\"\r\n            placeholder=\"Password...\"\r\n            onChange={(event) => {\r\n              setUserInfo({ ...userInfo, password: event.target.value })\r\n            }}\r\n          />\r\n          \r\n            <button className=\"btn\" onClick={handleSubmit}> Create User</button>\r\n          \r\n        </div>\r\n      </div>\r\n      {popup()}\r\n      <div className='table-container'>\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Number</th>\r\n              <th>First Name</th>\r\n              <th>isBlocked</th>\r\n              <th>Role</th>\r\n              <th>Email</th>\r\n              <th>function</th>\r\n            </tr>\r\n          </thead>\r\n          {users.map((user, index) => {return (\r\n          <tbody>\r\n            <tr>\r\n              <td>{index+1}</td>\r\n              <td>{user.userName}</td>\r\n              <td>{user.isBlocked.toString()}</td>\r\n              <td>{user.role}</td>\r\n              <td>{user.email}</td>\r\n              <td className='btn-table'> \r\n                <button\r\n                  className='btn-function btn'\r\n                  onClick={() => {\r\n                    deleteUserOnFstored(user);\r\n                  }}\r\n                  >\r\n                  {\" \"}\r\n                  Delete User\r\n                </button>\r\n                <button\r\n                  className='btn btn-function'\r\n                  onClick={(e) => changeSet(user)}\r\n                >\r\n                  {\" \"}\r\n                  Edit\r\n                </button>\r\n                <Button variant={user.isBlocked ? \"outline-danger\" : \"outline-secondary\"} id=\"button-addon1\" >\r\n                    <i class={user.isBlocked ? \"fa fa-lock\" : \"fa fa-unlock\"} id=\"togglePassword\" onClick={(e)=>ControlBlocked(user)}/>\r\n                </Button>\r\n              </td>\r\n            </tr>\r\n          </tbody>)})}\r\n        </table>\r\n      </div>         \r\n    </div>\r\n  );\r\n}",["81","82"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\Container\\Projects\\Datafile Morniting\\ShowTable.js",["83","84","85"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\components\\Header.jsx",["86","87","88"],"C:\\Users\\aooko\\Documents\\GitHub\\rabbit-dash\\src\\reportWebVitals.js",[],{"ruleId":"89","severity":1,"message":"90","line":2,"column":10,"nodeType":"91","messageId":"92","endLine":2,"endColumn":24},{"ruleId":"89","severity":1,"message":"93","line":7,"column":9,"nodeType":"91","messageId":"92","endLine":7,"endColumn":14},{"ruleId":"89","severity":1,"message":"94","line":20,"column":5,"nodeType":"91","messageId":"92","endLine":20,"endColumn":19},{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","replacedBy":"98"},{"ruleId":"89","severity":1,"message":"99","line":2,"column":10,"nodeType":"91","messageId":"92","endLine":2,"endColumn":16},{"ruleId":"89","severity":1,"message":"90","line":2,"column":10,"nodeType":"91","messageId":"92","endLine":2,"endColumn":24},{"ruleId":"89","severity":1,"message":"100","line":7,"column":8,"nodeType":"91","messageId":"92","endLine":7,"endColumn":15},{"ruleId":"89","severity":1,"message":"101","line":12,"column":12,"nodeType":"91","messageId":"92","endLine":12,"endColumn":21},{"ruleId":"89","severity":1,"message":"93","line":14,"column":11,"nodeType":"91","messageId":"92","endLine":14,"endColumn":16},{"ruleId":"89","severity":1,"message":"102","line":11,"column":55,"nodeType":"91","messageId":"92","endLine":11,"endColumn":62},{"ruleId":"89","severity":1,"message":"103","line":11,"column":64,"nodeType":"91","messageId":"92","endLine":11,"endColumn":74},{"ruleId":"89","severity":1,"message":"104","line":14,"column":10,"nodeType":"91","messageId":"92","endLine":14,"endColumn":17},{"ruleId":"89","severity":1,"message":"105","line":18,"column":3,"nodeType":"91","messageId":"92","endLine":18,"endColumn":9},{"ruleId":"89","severity":1,"message":"106","line":19,"column":3,"nodeType":"91","messageId":"92","endLine":19,"endColumn":12},{"ruleId":"89","severity":1,"message":"107","line":66,"column":13,"nodeType":"91","messageId":"92","endLine":66,"endColumn":17},{"ruleId":"108","severity":1,"message":"109","line":68,"column":34,"nodeType":"110","messageId":"111","endLine":68,"endColumn":36},{"ruleId":"89","severity":1,"message":"112","line":151,"column":11,"nodeType":"91","messageId":"92","endLine":151,"endColumn":15},{"ruleId":"95","replacedBy":"113"},{"ruleId":"97","replacedBy":"114"},{"ruleId":"89","severity":1,"message":"115","line":2,"column":43,"nodeType":"91","messageId":"92","endLine":2,"endColumn":64},{"ruleId":"89","severity":1,"message":"116","line":23,"column":10,"nodeType":"91","messageId":"92","endLine":23,"endColumn":15},{"ruleId":"117","severity":1,"message":"118","line":77,"column":6,"nodeType":"119","endLine":77,"endColumn":8,"suggestions":"120"},{"ruleId":"117","severity":1,"message":"121","line":94,"column":5,"nodeType":"119","endLine":94,"endColumn":7,"suggestions":"122"},{"ruleId":"95","replacedBy":"123"},{"ruleId":"97","replacedBy":"124"},{"ruleId":"89","severity":1,"message":"125","line":1,"column":17,"nodeType":"91","messageId":"92","endLine":1,"endColumn":26},{"ruleId":"89","severity":1,"message":"126","line":1,"column":28,"nodeType":"91","messageId":"92","endLine":1,"endColumn":36},{"ruleId":"89","severity":1,"message":"127","line":10,"column":10,"nodeType":"91","messageId":"92","endLine":10,"endColumn":22},{"ruleId":"128","severity":1,"message":"129","line":30,"column":13,"nodeType":"130","endLine":30,"endColumn":69},{"ruleId":"128","severity":1,"message":"131","line":37,"column":13,"nodeType":"130","endLine":37,"endColumn":40},{"ruleId":"128","severity":1,"message":"129","line":42,"column":13,"nodeType":"130","endLine":42,"endColumn":68},"no-unused-vars","'MDBDataTableV5' is defined but never used.","Identifier","unusedVar","'data1' is assigned a value but never used.","'visibleColumns' is assigned a value but never used.","no-native-reassign",["132"],"no-negated-in-lhs",["133"],"'Button' is defined but never used.","'Loading' is defined but never used.","'isLoading' is assigned a value but never used.","'signOut' is defined but never used.","'deleteUser' is defined but never used.","'authSec' is defined but never used.","'addDoc' is defined but never used.","'deleteDoc' is defined but never used.","'data' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'user' is assigned a value but never used.",["132"],["133"],"'sendEmailVerification' is defined but never used.","'alert' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'rolesCollectionRef' and 'usersCollectionRef'. Either include them or remove the dependency array.","ArrayExpression",["134"],"React Hook useEffect has a missing dependency: 'router'. Either include it or remove the dependency array.",["135"],["132"],["133"],"'useEffect' is defined but never used.","'useState' is defined but never used.","'NoEncryption' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-global-assign","no-unsafe-negation",{"desc":"136","fix":"137"},{"desc":"138","fix":"139"},"Update the dependencies array to be: [rolesCollectionRef, usersCollectionRef]",{"range":"140","text":"141"},"Update the dependencies array to be: [router]",{"range":"142","text":"143"},[2554,2556],"[rolesCollectionRef, usersCollectionRef]",[2941,2943],"[router]"]